<div class="table-responsive">
    <table class="table table-striped table-hover">
        <thead>
        <tr>
            <th>{{#str}}tableheaderid, local_obf{{/str}}</th>
            <th>{{#str}}tableheaderrecipients, local_obf{{/str}}</th>
            <th>{{#str}}tableheaderdate, local_obf{{/str}}</th>
            <th>{{#str}}tableheaderinfo, local_obf{{/str}}</th>
            <th>{{#str}}tableheadercourse, local_obf{{/str}}</th>
            <th>{{#str}}tableheaderstatus, local_obf{{/str}}</th>
            <th>{{#str}}tableheaderaction, local_obf{{/str}}</th>
        </tr>
        </thead>
        <tbody>
        {{#records}}
            <tr>
                <td>{{id}}</td>
                <td>
                    {{#recipients}}
                        {{.}}
                    {{/recipients}}
                </td>
                <td>{{timestamp}}</td>
                <td>
                    <button type="button" class="btn btn-outline-primary btn-sm" data-toggle="modal" data-target="#emailModal-{{id}}">
                        {{#str}}emailbutton, local_obf{{/str}}
                    </button>
                    <div class="modal fade" id="emailModal-{{id}}" tabindex="-1" role="dialog" aria-labelledby="emailModalLabel-{{id}}" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="emailModalLabel-{{id}}">{{email.subject}}</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <p><strong>{{#str}}badgename, local_obf{{/str}}</strong> {{badgename}}</p>
                                    <p><strong>{{#str}}emailbadgeid, local_obf{{/str}}</strong> {{email.badgeid}}</p>
                                    <p><strong>{{#str}}emailbody, local_obf{{/str}}</strong> {{email.body}}</p>
                                    <p><strong>{{#str}}emailfooter, local_obf{{/str}}</strong> {{email.footer}}</p>
                                    <p><strong>{{#str}}emaillinktext, local_obf{{/str}}</strong> {{email.linktext}}</p>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </td>
                <td>
                    <ul class="list-unstyled">
                        {{#courseslinks}}
                            <li><a href="{{link}}" class="text-decoration-none link-primary fw-bold fs-5">{{name}}</a></li>
                        {{/courseslinks}}
                    </ul>
                </td>
                <td>
                    <span class="badge bg-{{status}} status-{{status}} p-1">{{status}}</span>
                </td>
                <td>
                    <a href="{{deleteurl}}" class="btn btn-danger">
                        {{#str}}deletelink, local_obf{{/str}}
                    </a>
                </td>
            </tr>
        {{/records}}
        {{^records}}
            <!-- Displayed when records is empty -->
            <tr>
                <td class="text-center" colspan="7">{{#str}}norecordsfound, local_obf{{/str}}</td>
            </tr>
        {{/records}}
        </tbody>
    </table>
</div>